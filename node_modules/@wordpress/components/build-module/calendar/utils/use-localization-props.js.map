{"version":3,"names":["__","sprintf","useMemo","isLocaleRTL","localeCode","localeObj","Intl","Locale","getTextInfo","direction","includes","language","useLocalizationProps","locale","timeZone","mode","monthNameFormatter","DateTimeFormat","code","year","month","weekdayNarrowFormatter","weekday","weekdayLongFormatter","fullDateFormatter","day","labels","labelGrid","date","format","labelGridcell","modifiers","formattedDate","label","today","labelNext","labelPrevious","labelDayButton","selected","labelWeekday","dir","formatters","formatWeekdayName","formatCaption"],"sources":["@wordpress/components/src/calendar/utils/use-localization-props.ts"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { useMemo } from '@wordpress/element';\n/**\n * Internal dependencies\n */\nimport type { Modifiers, BaseProps } from '../types';\n\nfunction isLocaleRTL( localeCode: string ) {\n\tconst localeObj = new Intl.Locale( localeCode );\n\tif ( 'getTextInfo' in localeObj ) {\n\t\t// @ts-expect-error - getTextInfo is not typed yet\n\t\t// see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Locale/getTextInfo\n\t\treturn localeObj.getTextInfo().direction === 'rtl';\n\t}\n\treturn [\n\t\t'ar', // Arabic\n\t\t'he', // Hebrew\n\t\t'fa', // Persian (Farsi)\n\t\t'ur', // Urdu\n\t\t'ps', // Pashto\n\t\t'syr', // Syriac\n\t\t'dv', // Divehi\n\t\t'ku', // Kurdish (Sorani)\n\t\t'yi', // Yiddish\n\t].includes( localeObj.language );\n}\n\n/**\n * Returns localization props for the calendar components.\n *\n * Notes:\n * - the following props should be intended as defaults, and should\n *   be overridden by consumer props if listed as public props.\n * - It is possible for the translated strings to use a different locale\n *   than the formatted dates and the computed `dir`. This is because the\n *   translation function doesn't expose the locale used for the translated\n *   strings, meaning that the dates are formatted using the `locale` prop.\n *   For a correct localized experience, consumers should make sure that\n *   translation context and `locale` prop are consistent.\n * @param props\n * @param props.locale\n * @param props.timeZone\n * @param props.mode\n */\nexport const useLocalizationProps = ( {\n\tlocale,\n\ttimeZone,\n\tmode,\n}: {\n\tlocale: NonNullable< BaseProps[ 'locale' ] >;\n\ttimeZone: BaseProps[ 'timeZone' ];\n\tmode: 'single' | 'range';\n} ) => {\n\treturn useMemo( () => {\n\t\t// ie. April 2025\n\t\tconst monthNameFormatter = new Intl.DateTimeFormat( locale.code, {\n\t\t\tyear: 'numeric',\n\t\t\tmonth: 'long',\n\t\t\ttimeZone,\n\t\t} );\n\t\t// ie. M, T, W, T, F, S, S\n\t\tconst weekdayNarrowFormatter = new Intl.DateTimeFormat( locale.code, {\n\t\t\tweekday: 'narrow',\n\t\t\ttimeZone,\n\t\t} );\n\t\t// ie. Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday\n\t\tconst weekdayLongFormatter = new Intl.DateTimeFormat( locale.code, {\n\t\t\tweekday: 'long',\n\t\t\ttimeZone,\n\t\t} );\n\t\t// ie. Monday, April 29, 2025\n\t\tconst fullDateFormatter = new Intl.DateTimeFormat( locale.code, {\n\t\t\tweekday: 'long',\n\t\t\tyear: 'numeric',\n\t\t\tmonth: 'long',\n\t\t\tday: 'numeric',\n\t\t\ttimeZone,\n\t\t} );\n\n\t\t// Note: the following props should be intended as defaults, and should\n\t\t// be overridden by consumer props if listed as public props.\n\t\treturn {\n\t\t\t'aria-label':\n\t\t\t\tmode === 'single'\n\t\t\t\t\t? __( 'Date calendar' )\n\t\t\t\t\t: __( 'Date range calendar' ),\n\t\t\tlabels: {\n\t\t\t\t/**\n\t\t\t\t * The label for the month grid.\n\t\t\t\t * @param date\n\t\t\t\t */\n\t\t\t\tlabelGrid: ( date: Date ) => monthNameFormatter.format( date ),\n\t\t\t\t/**\n\t\t\t\t * The label for the gridcell, when the calendar is not interactive.\n\t\t\t\t * @param date\n\t\t\t\t * @param modifiers\n\t\t\t\t */\n\t\t\t\tlabelGridcell: (\n\t\t\t\t\tdate: Date,\n\t\t\t\t\t/** The modifiers for the day. */\n\t\t\t\t\tmodifiers?: Modifiers\n\t\t\t\t) => {\n\t\t\t\t\tconst formattedDate = fullDateFormatter.format( date );\n\t\t\t\t\tlet label = formattedDate;\n\t\t\t\t\tif ( modifiers?.today ) {\n\t\t\t\t\t\tlabel = sprintf(\n\t\t\t\t\t\t\t// translators: %s is the full date (e.g. \"Monday, April 29, 2025\")\n\t\t\t\t\t\t\t__( 'Today, %s' ),\n\t\t\t\t\t\t\tformattedDate\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn label;\n\t\t\t\t},\n\t\t\t\t/** The label for the \"next month\" button. */\n\t\t\t\tlabelNext: () => __( 'Go to the Next Month' ),\n\t\t\t\t/** The label for the \"previous month\" button. */\n\t\t\t\tlabelPrevious: () => __( 'Go to the Previous Month' ),\n\t\t\t\t/**\n\t\t\t\t * The label for the day button.\n\t\t\t\t * @param date\n\t\t\t\t * @param modifiers\n\t\t\t\t */\n\t\t\t\tlabelDayButton: (\n\t\t\t\t\tdate: Date,\n\t\t\t\t\t/** The modifiers for the day. */\n\t\t\t\t\tmodifiers?: Modifiers\n\t\t\t\t) => {\n\t\t\t\t\tconst formattedDate = fullDateFormatter.format( date );\n\t\t\t\t\tlet label = formattedDate;\n\t\t\t\t\tif ( modifiers?.today ) {\n\t\t\t\t\t\tlabel = sprintf(\n\t\t\t\t\t\t\t// translators: %s is the full date (e.g. \"Monday, April 29, 2025\")\n\t\t\t\t\t\t\t__( 'Today, %s' ),\n\t\t\t\t\t\t\tformattedDate\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tif ( modifiers?.selected ) {\n\t\t\t\t\t\tlabel = sprintf(\n\t\t\t\t\t\t\t// translators: %s is the full date (e.g. \"Monday, April 29, 2025\")\n\t\t\t\t\t\t\t__( '%s, selected' ),\n\t\t\t\t\t\t\tformattedDate\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn label;\n\t\t\t\t},\n\t\t\t\t/**\n\t\t\t\t * The label for the weekday.\n\t\t\t\t * @param date\n\t\t\t\t */\n\t\t\t\tlabelWeekday: ( date: Date ) =>\n\t\t\t\t\tweekdayLongFormatter.format( date ),\n\t\t\t},\n\t\t\tlocale,\n\t\t\tdir: isLocaleRTL( locale.code ) ? 'rtl' : 'ltr',\n\t\t\tformatters: {\n\t\t\t\tformatWeekdayName: ( date: Date ) => {\n\t\t\t\t\treturn weekdayNarrowFormatter.format( date );\n\t\t\t\t},\n\t\t\t\tformatCaption: ( date: Date ) => {\n\t\t\t\t\treturn monthNameFormatter.format( date );\n\t\t\t\t},\n\t\t\t},\n\t\t\ttimeZone,\n\t\t} as const;\n\t}, [ locale, timeZone, mode ] );\n};\n"],"mappings":"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","ignoreList":[]}